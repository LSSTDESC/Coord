
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Features &#8212; Coord 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Angle Units" href="angleunit.html" />
    <link rel="prev" title="Overview" href="index.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="angleunit.html" title="Angle Units"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Overview"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Coord 1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Features</a></li>
<li><a class="reference internal" href="#licence">Licence</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#installing-libffi">Installing libffi</a></li>
<li><a class="reference internal" href="#installing-coord">Installing Coord</a></li>
</ul>
</li>
<li><a class="reference internal" href="#desc-de-school">DESC DE School</a><ul>
<li><a class="reference internal" href="#instructions">Instructions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="angleunit.html"
                        title="next chapter">Angle Units</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/overview.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://travis-ci.org/LSSTDESC/Coord"><img alt="https://api.travis-ci.org/LSSTDESC/Coord.svg?branch=master" src="https://api.travis-ci.org/LSSTDESC/Coord.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://codecov.io/gh/LSSTDESC/Coord"><img alt="https://codecov.io/gh/LSSTDESC/Coord/branch/master/graph/badge.svg" src="https://codecov.io/gh/LSSTDESC/Coord/branch/master/graph/badge.svg" /></a>
<p>Coord is a Python module that provides basic functionality related to angles and
celestial coordinates.</p>
<p>It is similar in functionality to the astropy.coordinates module, but with more of an
emphasis on efficiency.  Some functions are more than 100 times faster than the corresponding
functionality in astropy.  On the other hand, the API is somewhat more restrictive than
the API used by astropy, so the appropriate module to use will depend on your needs.</p>
<p>Notable functionality:</p>
<ul class="simple">
<li>Spherical geometric calculations of the distance between two points, angles in spherical
triangles, and areas of spherical triangles.</li>
<li>Tangent-plane projection of a coordinate relative to a given center point of the projection.</li>
<li>Deprojection back into spherical coordinates.</li>
<li>Analytic calculation of the jacobian of the tangent projection.</li>
<li>Precession calculations between different epochs.</li>
<li>Conversion to galactic and ecliptic coordinate systems (and back).</li>
</ul>
<p>The code was originally written by Mike Jarvis for TreeCorr and then also used in GalSim.
It has been republished here as a stand-alone module to enable others (within the LSST DESC
or not) to have easier access to these functions.</p>
<p>In addition, the module will be used as a pedagogical tool at the LSST DESC DE School
on July 9, 2017.  (See below for more details about this.)</p>
<p>One missing feature (for which pull requests would be welcome) is conversion between FK5 and ICRS
systems (never mind FK4).  If you care about the slight differences between these systems, then
you should probably stick to astropy, which does handle these distinctions.</p>
</div>
<div class="section" id="licence">
<h1>Licence<a class="headerlink" href="#licence" title="Permalink to this headline">¶</a></h1>
<p>The code is licensed under the MIT License, which basically means you can use it in any way
you want, so long as you keep the copyright notice at the top of each source file and/or include
the accompanying LICENSE file with the distribution.</p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-libffi">
<h2>Installing libffi<a class="headerlink" href="#installing-libffi" title="Permalink to this headline">¶</a></h2>
<p>This module is mostly pure Python.  However, it does have a small bit of C++ code, which is
wrapped with cffi.  This in turn depends on libffi, which is not itself pip installable.
Most modern Python installations will have this already installed, so you probably don’t have
to do anything special to use it.  However, if not, installing libffi is fairly straightforward:</p>
<p>On a Mac, you should only need to run the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ xcode-select --install
</pre></div>
</div>
<p>On Linux, if you have root access, then one of the following should work for you:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ apt-get install libffi-dev
$ yum install libffi-devel
</pre></div>
</div>
<p>If you don’t have root access (and don’t want to bother your sysadmin), then installing from
source into a {prefix} directory where you have write access (e.g. your home directory) is also
not very hard:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ wget ftp://sourceware.org:/pub/libffi/libffi-3.2.1.tar.gz
$ tar xfz libffi-3.2.1.tar.gz
$ cd libffi-3.2.1
$ ./configure --prefix={prefix}
$ make
$ make install
$ cp */include/ffi*.h {prefix}/include
$ cd ..
</pre></div>
</div>
</div>
<div class="section" id="installing-coord">
<h2>Installing Coord<a class="headerlink" href="#installing-coord" title="Permalink to this headline">¶</a></h2>
<p>Once you have done one of the above (or not if you already have libffi installed), you can
install Coord in the usual way with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python setup.py install --prefix={prefix}
</pre></div>
</div>
<p>or if you have root access, you might prefer:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo python setup.py install
</pre></div>
</div>
<p>Or any of the other usual variants of this command as you prefer.</p>
</div>
</div>
<div class="section" id="desc-de-school">
<h1>DESC DE School<a class="headerlink" href="#desc-de-school" title="Permalink to this headline">¶</a></h1>
<p>For a DE School lesson on July 10, 2017, we will be designing some tests for this module, so
I have intentionally not ported over many of the existing tests that I have in the TreeCorr and
GalSim repositories related to that version of the code.  If you are planning to participate in
the DE School lesson, then you are on your honor not to look at those tests.</p>
<p>Prior to attending DE School, it would be a good idea to try to clone this repository and install
the code.  If you have trouble, please ask for help on the #desc-bnl-sb-2017 Slack channel.
It will be helpful if you have the code already installed on your laptop, although you may
certainly still participate even if not.</p>
<p>After the end of the class I will add all the unit tests that I currently have for this module
along with (hopefully) some that the class will have written.</p>
<div class="section" id="instructions">
<h2>Instructions<a class="headerlink" href="#instructions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Clone the repository onto your laptop.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git clone git@github.com:LSSTDESC/Coord.git
</pre></div>
</div>
</li>
<li><p class="first">Follow the above instructions to install Coord.</p>
</li>
<li><p class="first">Make sure you have nose and astropy installed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ pip install nose astropy
</pre></div>
</div>
</li>
<li><p class="first">Try running the existing tests.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ cd tests
$ nosetests
</pre></div>
</div>
</li>
<li><p class="first">Make sure that you are a member of the LSSTDESC GitHub team.  If not, post a request on the
#desc-ci Slack channel that you want to be added.</p>
</li>
<li><p class="first">Look through the documentation here:</p>
<blockquote>
<div><p><a class="reference external" href="https://lsstdesc.github.io/Coord/">https://lsstdesc.github.io/Coord/</a></p>
</div></blockquote>
</li>
<li><p class="first">Make a branch for yourself.  Pick some appropriate name for your branch, like your last name,
or your initials.  Something you think would likely be unique to you.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git pull
$ git checkout -b your_branch_name
$ git push -U origin your_branch_name
</pre></div>
</div>
</li>
<li><p class="first">Look through the existing tests and pick a test that is currently unimplemented.
There are lots of stubs of test functions that you can pick from that currently just say
<code class="docutils literal"><span class="pre">pass</span></code>, or feel free to do something different if you have an idea of what to test and
don’t seem something appropriate.</p>
<p>Write the test.  Think about the various considerations I talked about in the lesson.</p>
<p>Be as complete or not as you want.  You only have half an hour, so don’t worry if you don’t
feel like you covered everything about the concept you are trying to test.</p>
</li>
<li><p class="first">One the test is working, commit and push.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git add -p
$ git commit -m &quot;Add some tests of the .... function&quot;
$ git push
</pre></div>
</div>
</li>
<li><p class="first">Make a pull request of your new test.  Start here:</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/LSSTDESC/Coord/compare">https://github.com/LSSTDESC/Coord/compare</a></p>
</div></blockquote>
<p>Select the “compare” tab, and find your branch name.</p>
<p>Write a short title.  e.g. “Add test of stereographic projection”</p>
<p>Write a slightly longer summary in the text box.  (Normally – for this exercise there might
not be much more to write than what you already wrote in the title.)</p>
<p>Click “Create pull request”</p>
<p>Wait for Travis to run your test.  If it fails, check why and edit your code appropriately.
You can add more commits to your branch, which will be included in the pull request.</p>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="angleunit.html" title="Angle Units"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Overview"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Coord 1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, LSST DESC.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
  </body>
</html>